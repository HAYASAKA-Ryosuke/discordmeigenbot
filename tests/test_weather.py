import unittest

from weather import formatting_weather_info

class WeatherTest(unittest.TestCase):
    def test_本日の気温がハイフンで表示されないか(self):
        detail_code = "130010"
        name = "東京"
        temp_average_code = "44132"

        self.assertEqual(
            formatting_weather_info(
                [{'publishingOffice': '気象庁', 'reportDatetime': '2022-06-03T22:00:00+09:00', 'timeSeries': [{'timeDefines': ['2022-06-03T17:00:00+09:00', '2022-06-04T00:00:00+09:00', '2022-06-05T00:00:00+09:00'], 'areas': [{'area': {'name': '東京地方', 'code': '130010'}, 'weatherCodes': ['200', '101', '200'], 'weathers': ['くもり\u3000所により\u3000雨\u3000で\u3000雷を伴う', '晴れ\u3000朝 晩\u3000くもり\u3000所により\u3000明け方\u3000まで\u3000雨\u3000で\u3000雷を伴う', 'くもり'], 'winds': ['北の風', '北東の風\u3000後\u3000南の風', '南の風'], 'waves': ['０．５メートル', '０ ．５メートル', '０．５メートル']}, {'area': {'name': '伊豆諸島北部', 'code': '130020'}, 'weatherCodes': ['200', '101', '200'], 'weathers': ['くもり\u3000所により\u3000雨\u3000で\u3000雷を伴う', '晴れ\u3000朝晩\u3000くもり\u3000所により\u3000明け方\u3000まで\u3000雨\u3000で\u3000雷を伴う', 'くもり'], 'winds': ['北東の風', '北東の風\u3000後\u3000東の風', '南の風'], 'waves': [' １．５メートル', '１．５メートル', '１．５メートル\u3000うねり\u3000を伴う']}, {'area': {'name': '伊豆諸島南部', 'code': '130030'}, 'weatherCodes': ['200', '210', '200'], 'weathers': ['くもり\u3000所により\u3000雨\u3000で\u3000雷を伴う', 'くもり\u3000昼前\u3000から\u3000時々\u3000晴れ\u3000所により\u3000明け方\u3000まで\u3000雨\u3000で\u3000雷を伴う', 'くもり'], 'winds': ['西の風', '北東の風\u3000後\u3000東の風', '南東の風\u3000後\u3000南の風'], 'waves': ['１．５メートル', '１．５メートル', '１．５メートル\u3000うねり\u3000を伴う']}, {'area': {'name': '小笠原諸島', 'code': '130040'}, 'weatherCodes': ['300', '313', '201'], 'weathers': ['雨\u3000所により\u3000雷\u3000を伴う', '雨\u3000夕方\u3000から\u3000くもり\u3000所により\u3000昼過ぎ\u3000まで\u3000雷\u3000を伴う', 'くもり\u3000時々\u3000晴れ'], 'winds': ['西の風', '西の風\u3000後\u3000南西の風', '東の風\u3000後\u3000南東の風'], 'waves': ['１．５メートル', '１．５メートル', '１． ５メートル\u3000うねり\u3000を伴う']}]}, {'timeDefines': ['2022-06-03T18:00:00+09:00', '2022-06-04T00:00:00+09:00', '2022-06-04T06:00:00+09:00', '2022-06-04T12:00:00+09:00', '2022-06-04T18:00:00+09:00'], 'areas': [{'area': {'name': '東京地方', 'code': '130010'}, 'pops': ['30', '20', '0', '10', '10']}, {'area': {'name': '伊豆諸島北部', 'code': '130020'}, 'pops': ['30', '20', '10', '0', '10']}, {'area': {'name': '伊豆諸島南部', 'code': '130030'}, 'pops': ['20', '20', '10', '10', '10']}, {'area': {'name': '小笠原諸島', 'code': '130040'}, 'pops': ['60', '60', '60', '60', '30']}]}, {'timeDefines': ['2022-06-04T00:00:00+09:00', '2022-06-04T09:00:00+09:00'], 'areas': [{'area': {'name': '東京', 'code': '44132'}, 'temps': ['16', '25']}, {'area': {'name': '大島', 'code': '44172'}, 'temps': ['17', '24']}, {'area': {'name': '八丈島', 'code': '44263'}, 'temps': ['19', '23']}, {'area': {'name': '父島', 'code': '44301'}, 'temps': ['22', '26']}]}]}, {'publishingOffice': '気象庁', 'reportDatetime': '2022-06-03T17:00:00+09:00', 'timeSeries': [{'timeDefines': ['2022-06-04T00:00:00+09:00', '2022-06-05T00:00:00+09:00', '2022-06-06T00:00:00+09:00', '2022-06-07T00:00:00+09:00', '2022-06-08T00:00:00+09:00', '2022-06-09T00:00:00+09:00', '2022-06-10T00:00:00+09:00'], 'areas': [{'area': {'name': '東京地方', 'code': '130010'}, 'weatherCodes': ['101', '200', '203', '202', '200', '201', '201'], 'pops': ['', '40', '80', '60', '30', '30', '20'], 'reliabilities': ['', '', 'A', 'C', 'B', 'A', 'A']}, {'area': {'name': '伊豆諸島', 'code': '130100'}, 'weatherCodes': ['210', '200', '203', '202', '200', '201', '201'], 'pops': ['', '30', '80', '60', '30', '20', '20'], 'reliabilities': ['', '', 'A', 'C', 'A', 'A', 'A']}, {'area': {'name': '小笠原諸島', 'code': '130040'}, 'weatherCodes': ['313', '201', '200', '202', '202', '200', '202'], 'pops': ['', '30', '40', '50', '50', '40', '50'], 'reliabilities': ['', '', 'B', 'C', 'C', 'C', 'C']}]}, {'timeDefines': ['2022-06-04T00:00:00+09:00', '2022-06-05T00:00:00+09:00', '2022-06-06T00:00:00+09:00', '2022-06-07T00:00:00+09:00', '2022-06-08T00:00:00+09:00', '2022-06-09T00:00:00+09:00', '2022-06-10T00:00:00+09:00'], 'areas': [{'area': {'name': '東京', 'code': '44132'}, 'tempsMin': ['', '19', '16', '16', '17', '16', '16'], 'tempsMinUpper': ['', '20', '17', '19', '18', '17', '18'], 'tempsMinLower': ['', '16', '13', '13', '13', '14', '14'], 'tempsMax': ['', '25', '19', '25', '25', '24', '24'], 'tempsMaxUpper': ['', '27', '23', '28', '29', '27', '27'], 'tempsMaxLower': ['', '22', '17', '20', '21', '22', '22']}, {'area': {'name': '八丈島', 'code': '44263'}, 'tempsMin': ['', '18', '19', '19', '18', '18', '18'], 'tempsMinUpper': ['', '19', '21', '21', '20', '20', '20'], 'tempsMinLower': ['', '17', '18', '18', '17', '16', '16'], 'tempsMax': ['', '24', '23', '24', '23', '23', '24'], 'tempsMaxUpper': ['', '25', '24', '25', '25', '25', '26'], 'tempsMaxLower': ['', '22', '21', '22', '22', '21', '22']}, {'area': {'name': '父島', 'code': '44301'}, 'tempsMin': ['', '22', '24', '26', '24', '23', '22'], 'tempsMinUpper': ['', '24', '25', '28', '26', '25', '24'], 'tempsMinLower': ['', '21', '22', '24', '23', '21', '21'], 'tempsMax': ['', '27', '28', '28', '27', '28', '27'], 'tempsMaxUpper': ['', '29', '29', '30', '29', '29', '29'], 'tempsMaxLower': ['', '26', '27', '27', '26', '26', '25']}]}], 'tempAverage': {'areas': [{'area': {'name': '東京', 'code': '44132'}, 'min': '17.3', 'max': '25.3'}, {'area': {'name': '八丈島', 'code': '44263'}, 'min': '18.2', 'max': '23.3'}, {'area': {'name': '父島', 'code': '44301'}, 'min': '23.4', 'max': '27.3'}]}, 'precipAverage': {'areas': [{'area': {'name': '東京', 'code': '44132'}, 'min': '16.3', 'max': '40.1'}, {'area': {'name': '八丈島', 'code': '44263'}, 'min': '40.4', 'max': '91.7'}, {'area': {'name': '父島', 'code': '44301'}, 'min': '12.9', 'max': '45.8'}]}}],
                detail_code, name, temp_average_code
            )
            '東京\n06-03: ☁ 曇 ---℃\n06-04: ☀☁ 晴時々曇 17.3-25.3℃\n06-05: ☁ 曇 19-25℃\n'
        )

    def test_天気が想定どおりのフォーマットで返ってくるか(self):
        detail_code = "130010"
        name = "東京"
        temp_average_code = "44132"
        self.assertEqual(
            formatting_weather_info(
                [{'publishingOffice': '気象庁', 'reportDatetime': '2022-06-03T22:00:00+09:00', 'timeSeries': [{'timeDefines': ['2022-06-03T17:00:00+09:00', '2022-06-04T00:00:00+09:00', '2022-06-05T00:00:00+09:00'], 'areas': [{'area': {'name': '東京地方', 'code': '130010'}, 'weatherCodes': ['200', '101', '200'], 'weathers': ['くもり\u3000所により\u3000雨\u3000で\u3000雷を伴う', '晴れ\u3000朝 晩\u3000くもり\u3000所により\u3000明け方\u3000まで\u3000雨\u3000で\u3000雷を伴う', 'くもり'], 'winds': ['北の風', '北東の風\u3000後\u3000南の風', '南の風'], 'waves': ['０．５メートル', '０ ．５メートル', '０．５メートル']}, {'area': {'name': '伊豆諸島北部', 'code': '130020'}, 'weatherCodes': ['200', '101', '200'], 'weathers': ['くもり\u3000所により\u3000雨\u3000で\u3000雷を伴う', '晴れ\u3000朝晩\u3000くもり\u3000所により\u3000明け方\u3000まで\u3000雨\u3000で\u3000雷を伴う', 'くもり'], 'winds': ['北東の風', '北東の風\u3000後\u3000東の風', '南の風'], 'waves': [' １．５メートル', '１．５メートル', '１．５メートル\u3000うねり\u3000を伴う']}, {'area': {'name': '伊豆諸島南部', 'code': '130030'}, 'weatherCodes': ['200', '210', '200'], 'weathers': ['くもり\u3000所により\u3000雨\u3000で\u3000雷を伴う', 'くもり\u3000昼前\u3000から\u3000時々\u3000晴れ\u3000所により\u3000明け方\u3000まで\u3000雨\u3000で\u3000雷を伴う', 'くもり'], 'winds': ['西の風', '北東の風\u3000後\u3000東の風', '南東の風\u3000後\u3000南の風'], 'waves': ['１．５メートル', '１．５メートル', '１．５メートル\u3000うねり\u3000を伴う']}, {'area': {'name': '小笠原諸島', 'code': '130040'}, 'weatherCodes': ['300', '313', '201'], 'weathers': ['雨\u3000所により\u3000雷\u3000を伴う', '雨\u3000夕方\u3000から\u3000くもり\u3000所により\u3000昼過ぎ\u3000まで\u3000雷\u3000を伴う', 'くもり\u3000時々\u3000晴れ'], 'winds': ['西の風', '西の風\u3000後\u3000南西の風', '東の風\u3000後\u3000南東の風'], 'waves': ['１．５メートル', '１．５メートル', '１． ５メートル\u3000うねり\u3000を伴う']}]}, {'timeDefines': ['2022-06-03T18:00:00+09:00', '2022-06-04T00:00:00+09:00', '2022-06-04T06:00:00+09:00', '2022-06-04T12:00:00+09:00', '2022-06-04T18:00:00+09:00'], 'areas': [{'area': {'name': '東京地方', 'code': '130010'}, 'pops': ['30', '20', '0', '10', '10']}, {'area': {'name': '伊豆諸島北部', 'code': '130020'}, 'pops': ['30', '20', '10', '0', '10']}, {'area': {'name': '伊豆諸島南部', 'code': '130030'}, 'pops': ['20', '20', '10', '10', '10']}, {'area': {'name': '小笠原諸島', 'code': '130040'}, 'pops': ['60', '60', '60', '60', '30']}]}, {'timeDefines': ['2022-06-04T00:00:00+09:00', '2022-06-04T09:00:00+09:00'], 'areas': [{'area': {'name': '東京', 'code': '44132'}, 'temps': ['16', '25']}, {'area': {'name': '大島', 'code': '44172'}, 'temps': ['17', '24']}, {'area': {'name': '八丈島', 'code': '44263'}, 'temps': ['19', '23']}, {'area': {'name': '父島', 'code': '44301'}, 'temps': ['22', '26']}]}]}, {'publishingOffice': '気象庁', 'reportDatetime': '2022-06-03T17:00:00+09:00', 'timeSeries': [{'timeDefines': ['2022-06-04T00:00:00+09:00', '2022-06-05T00:00:00+09:00', '2022-06-06T00:00:00+09:00', '2022-06-07T00:00:00+09:00', '2022-06-08T00:00:00+09:00', '2022-06-09T00:00:00+09:00', '2022-06-10T00:00:00+09:00'], 'areas': [{'area': {'name': '東京地方', 'code': '130010'}, 'weatherCodes': ['101', '200', '203', '202', '200', '201', '201'], 'pops': ['', '40', '80', '60', '30', '30', '20'], 'reliabilities': ['', '', 'A', 'C', 'B', 'A', 'A']}, {'area': {'name': '伊豆諸島', 'code': '130100'}, 'weatherCodes': ['210', '200', '203', '202', '200', '201', '201'], 'pops': ['', '30', '80', '60', '30', '20', '20'], 'reliabilities': ['', '', 'A', 'C', 'A', 'A', 'A']}, {'area': {'name': '小笠原諸島', 'code': '130040'}, 'weatherCodes': ['313', '201', '200', '202', '202', '200', '202'], 'pops': ['', '30', '40', '50', '50', '40', '50'], 'reliabilities': ['', '', 'B', 'C', 'C', 'C', 'C']}]}, {'timeDefines': ['2022-06-04T00:00:00+09:00', '2022-06-05T00:00:00+09:00', '2022-06-06T00:00:00+09:00', '2022-06-07T00:00:00+09:00', '2022-06-08T00:00:00+09:00', '2022-06-09T00:00:00+09:00', '2022-06-10T00:00:00+09:00'], 'areas': [{'area': {'name': '東京', 'code': '44132'}, 'tempsMin': ['19', '19', '16', '16', '17', '16', '16'], 'tempsMinUpper': ['', '20', '17', '19', '18', '17', '18'], 'tempsMinLower': ['', '16', '13', '13', '13', '14', '14'], 'tempsMax': ['25', '25', '19', '25', '25', '24', '24'], 'tempsMaxUpper': ['', '27', '23', '28', '29', '27', '27'], 'tempsMaxLower': ['', '22', '17', '20', '21', '22', '22']}, {'area': {'name': '八丈島', 'code': '44263'}, 'tempsMin': ['18', '18', '19', '19', '18', '18', '18'], 'tempsMinUpper': ['', '19', '21', '21', '20', '20', '20'], 'tempsMinLower': ['', '17', '18', '18', '17', '16', '16'], 'tempsMax': ['24', '24', '23', '24', '23', '23', '24'], 'tempsMaxUpper': ['', '25', '24', '25', '25', '25', '26'], 'tempsMaxLower': ['', '22', '21', '22', '22', '21', '22']}, {'area': {'name': '父島', 'code': '44301'}, 'tempsMin': ['22', '22', '24', '26', '24', '23', '22'], 'tempsMinUpper': ['', '24', '25', '28', '26', '25', '24'], 'tempsMinLower': ['', '21', '22', '24', '23', '21', '21'], 'tempsMax': ['27', '27', '28', '28', '27', '28', '27'], 'tempsMaxUpper': ['', '29', '29', '30', '29', '29', '29'], 'tempsMaxLower': ['', '26', '27', '27', '26', '26', '25']}]}], 'tempAverage': {'areas': [{'area': {'name': '東京', 'code': '44132'}, 'min': '17.3', 'max': '25.3'}, {'area': {'name': '八丈島', 'code': '44263'}, 'min': '18.2', 'max': '23.3'}, {'area': {'name': '父島', 'code': '44301'}, 'min': '23.4', 'max': '27.3'}]}, 'precipAverage': {'areas': [{'area': {'name': '東京', 'code': '44132'}, 'min': '16.3', 'max': '40.1'}, {'area': {'name': '八丈島', 'code': '44263'}, 'min': '40.4', 'max': '91.7'}, {'area': {'name': '父島', 'code': '44301'}, 'min': '12.9', 'max': '45.8'}]}}],
                detail_code, name, temp_average_code
            ),
            '東京\n06-03: ☁ 曇 ---℃\n06-04: ☀☁ 晴時々曇 19-25℃\n06-05: ☁ 曇 19-25℃\n'
        )